{"ast":null,"code":"// ** Redux Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'; // ** Axios Imports\n\nimport axios from 'axios';\nexport const getData = createAsyncThunk('permissions/getData', async params => {\n  const response = await axios.get('/apps/permissions/data', {\n    params\n  });\n  return {\n    total: response.data.total,\n    params: response.data.params,\n    allData: response.data.allData,\n    data: response.data.permissions\n  };\n});\nexport const addPermission = createAsyncThunk('permissions/addPermission', async (permission, _ref) => {\n  let {\n    dispatch,\n    getState\n  } = _ref;\n  await axios.post('/apps/permissions/add-permission', {\n    permission\n  });\n  await dispatch(getData(getState().permissions.params));\n  return permission;\n});\nexport const updatePermission = createAsyncThunk('permissions/updatePermission', async (_ref2, _ref3) => {\n  let {\n    id,\n    name\n  } = _ref2;\n  let {\n    dispatch,\n    getState\n  } = _ref3;\n  await axios.post('/apps/permissions/update-permission', {\n    id,\n    name\n  });\n  await dispatch(getData(getState().permissions.params));\n  return {\n    id,\n    name\n  };\n});\nexport const deletePermission = createAsyncThunk('permissions/deletePermission', async (id, _ref4) => {\n  let {\n    dispatch,\n    getState\n  } = _ref4;\n  await axios.delete('/apps/permissions/delete', {\n    id\n  });\n  await dispatch(getData(getState().permissions.params));\n  return id;\n});\nexport const permissionsSlice = createSlice({\n  name: 'permissions',\n  initialState: {\n    data: [],\n    total: 1,\n    params: {},\n    allData: [],\n    selected: null\n  },\n  reducers: {\n    selectPermission: (state, action) => {\n      if (action.payload === null) {\n        state.selected = null;\n      } else {\n        state.selected = action.payload;\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(getData.fulfilled, (state, action) => {\n      state.data = action.payload.data;\n      state.total = action.payload.total;\n      state.params = action.payload.params;\n      state.allData = action.payload.allData;\n    });\n  }\n});\nexport const {\n  selectPermission\n} = permissionsSlice.actions;\nexport default permissionsSlice.reducer;","map":{"version":3,"sources":["E:/Project/pushtop_reactjs_cms/src/views/apps/roles-permissions/store/index.js"],"names":["createSlice","createAsyncThunk","axios","getData","params","response","get","total","data","allData","permissions","addPermission","permission","dispatch","getState","post","updatePermission","id","name","deletePermission","delete","permissionsSlice","initialState","selected","reducers","selectPermission","state","action","payload","extraReducers","builder","addCase","fulfilled","actions","reducer"],"mappings":"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","sourcesContent":["// ** Redux Imports\r\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\n\r\n// ** Axios Imports\r\nimport axios from 'axios'\r\n\r\nexport const getData = createAsyncThunk('permissions/getData', async params => {\r\n  const response = await axios.get('/apps/permissions/data', { params })\r\n  return {\r\n    total: response.data.total,\r\n    params: response.data.params,\r\n    allData: response.data.allData,\r\n    data: response.data.permissions\r\n  }\r\n})\r\n\r\nexport const addPermission = createAsyncThunk(\r\n  'permissions/addPermission',\r\n  async (permission, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/add-permission', { permission })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return permission\r\n  }\r\n)\r\n\r\nexport const updatePermission = createAsyncThunk(\r\n  'permissions/updatePermission',\r\n  async ({ id, name }, { dispatch, getState }) => {\r\n    await axios.post('/apps/permissions/update-permission', { id, name })\r\n    await dispatch(getData(getState().permissions.params))\r\n    return { id, name }\r\n  }\r\n)\r\n\r\nexport const deletePermission = createAsyncThunk('permissions/deletePermission', async (id, { dispatch, getState }) => {\r\n  await axios.delete('/apps/permissions/delete', { id })\r\n  await dispatch(getData(getState().permissions.params))\r\n  return id\r\n})\r\n\r\nexport const permissionsSlice = createSlice({\r\n  name: 'permissions',\r\n  initialState: {\r\n    data: [],\r\n    total: 1,\r\n    params: {},\r\n    allData: [],\r\n    selected: null\r\n  },\r\n  reducers: {\r\n    selectPermission: (state, action) => {\r\n      if (action.payload === null) {\r\n        state.selected = null\r\n      } else {\r\n        state.selected = action.payload\r\n      }\r\n    }\r\n  },\r\n  extraReducers: builder => {\r\n    builder.addCase(getData.fulfilled, (state, action) => {\r\n      state.data = action.payload.data\r\n      state.total = action.payload.total\r\n      state.params = action.payload.params\r\n      state.allData = action.payload.allData\r\n    })\r\n  }\r\n})\r\n\r\nexport const { selectPermission } = permissionsSlice.actions\r\n\r\nexport default permissionsSlice.reducer\r\n"]},"metadata":{},"sourceType":"module"}